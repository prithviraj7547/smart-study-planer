<!DOCTYPE html>
<html lang="en">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Study Planner</title>
    <meta name="description" content="Organize your study schedule, track academic tasks, and boost productivity with our smart study planner">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#3B82F6",
                        secondary: "#1E40AF",
                        accent: "#10B981",
                        warning: "#F59E0B",
                        danger: "#EF4444",
                        light: "#F9FAFB",
                        dark: "#1F2937"
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-primary text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <i class="fas fa-graduation-cap text-3xl mr-3"></i>
                    <h1 class="text-2xl font-bold">Smart Study Planner</h1>
                </div>
                <nav class="flex space-x-4">
                    <button id="tasksBtn" class="px-4 py-2 bg-secondary rounded-lg hover:bg-blue-800 transition-colors">
                        <i class="fas fa-tasks mr-2"></i>Tasks
                    </button>
                    <button id="calendarBtn" class="px-4 py-2 bg-secondary rounded-lg hover:bg-blue-800 transition-colors">
                        <i class="fas fa-calendar mr-2"></i>Calendar
                    </button>
                    <button id="statsBtn" class="px-4 py-2 bg-secondary rounded-lg hover:bg-blue-800 transition-colors">
                        <i class="fas fa-chart-line mr-2"></i>Statistics
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Dashboard Section -->
        <section id="dashboard" class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <!-- Today's Progress -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">Today's Progress</h2>
                    <div class="flex items-center mb-4">
                        <div class="w-full bg-gray-200 rounded-full h-4">
                            <div id="todayProgress" class="bg-accent h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                        </div>
                        <span id="progressPercentage" class="ml-4 text-sm font-medium text-gray-700">0%</span>
                    </div>
                    <p id="tasksCompleted" class="text-gray-600">0/0 tasks completed</p>
                </div>

                <!-- Upcoming Tasks -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">Upcoming Tasks</h2>
                    <div id="upcomingTasks" class="space-y-2">
                        <p class="text-gray-500 text-sm">No upcoming tasks</p>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">Quick Stats</h2>
                    <div class="space-y-2">
                        <p class="text-gray-600">Total Tasks: <span id="totalTasks" class="font-semibold">0</span></p>
                        <p class="text-gray-600">Completed: <span id="completedTasks" class="font-semibold">0</span></p>
                        <p class="text-gray-600">Pending: <span id="pendingTasks" class="font-semibold">0</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Task Management Section -->
        <section id="taskManagement" class="mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Create New Task</h2>
                <form id="taskForm" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Task Name</label>
                        <input type="text" id="taskName" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                        <input type="text" id="taskSubject" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Due Date</label>
                        <input type="datetime-local" id="taskDueDate" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Priority</label>
                        <select id="taskPriority" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea id="taskDescription" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                    </div>
                    <div class="md:col-span-2 flex items-end">
                        <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-secondary transition-colors">
                            <i class="fas fa-plus mr-2"></i>Add Task
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Task List Section -->
        <section id="taskList" class="mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Your Study Tasks</h2>
                    <div class="flex space-x-2">
                        <button id="filterAll" class="px-3 py-1 bg-primary text-white rounded-md text-sm">All</button>
                        <button id="filterActive" class="px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-sm">Active</button>
                        <button id="filterCompleted" class="px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-sm">Completed</button>
                    </div>
                </div>
                <div id="tasksContainer" class="space-y-3">
                    <!-- Tasks will be dynamically inserted here -->
                </div>
            </div>
        </section>

        <!-- Calendar View Section -->
        <section id="calendarView" class="hidden mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Study Calendar</h2>
                <div class="grid grid-cols-7 gap-2 mb-4">
                    <div class="text-center font-semibold text-gray-600">Sun</div>
                    <div class="text-center font-semibold text-gray-600">Mon</div>
                    <div class="text-center font-semibold text-gray-600">Tue</div>
                    <div class="text-center font-semibold text-gray-600">Wed</div>
                    <div class="text-center font-semibold text-gray-600">Thu</div>
                    <div class="text-center font-semibold text-gray-600">Fri</div>
                    <div class="text-center font-semibold text-gray-600">Sat</div>
                </div>
                <div id="calendarGrid" class="grid grid-cols-7 gap-2">
                    <!-- Calendar will be dynamically generated -->
                </div>
            </div>
        </section>

        <!-- Statistics Section -->
        <section id="statisticsView" class="hidden">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Study Statistics</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">Weekly Progress</h3>
                        <canvas id="weeklyChart" width="400" height="200"></canvas>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4 text-gray-700">Subject Distribution</h3>
                        <canvas id="subjectChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-semibold mb-4">Smart Study Planner</h3>
                    <p class="text-gray-300">Boost your productivity and master time management with our intelligent study planning tool.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4">Features</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>Task Management</li>
                        <li>Progress Tracking</li>
                        <li>Visual Timeline</li>
                        <li>Local Storage</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4">Get Started</h3>
                    <p class="text-gray-300">Start organizing your study schedule today and achieve academic success!</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p>&copy; 2024 Smart Study Planner. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data structure for tasks
        let tasks = JSON.parse(localStorage.getItem('studyTasks')) || [];
        let currentFilter = 'all';

        // DOM Elements
        const taskForm = document.getElementById('taskForm');
        const tasksContainer = document.getElementById('tasksContainer');
        const todayProgress = document.getElementById('todayProgress');
        const progressPercentage = document.getElementById('progressPercentage');
        const tasksCompleted = document.getElementById('tasksCompleted');
        const totalTasks = document.getElementById('totalTasks');
        const completedTasks = document.getElementById('completedTasks');
        const pendingTasks = document.getElementById('pendingTasks');
        const upcomingTasks = document.getElementById('upcomingTasks');
        const calendarGrid = document.getElementById('calendarGrid');
        const dashboard = document.getElementById('dashboard');
        const taskManagement = document.getElementById('taskManagement');
        const taskList = document.getElementById('taskList');
        const calendarView = document.getElementById('calendarView');
        const statisticsView = document.getElementById('statisticsView');

        // Navigation buttons
        document.getElementById('tasksBtn').addEventListener('click', () => showSection('tasks'));
        document.getElementById('calendarBtn').addEventListener('click', () => showSection('calendar'));
        document.getElementById('statsBtn').addEventListener('click', () => showSection('stats'));

        // Filter buttons
        document.getElementById('filterAll').addEventListener('click', () => filterTasks('all'));
        document.getElementById('filterActive').addEventListener('click', () => filterTasks('active'));
        document.getElementById('filterCompleted').addEventListener('click', () => filterTasks('completed'));

        // Initialize application
        function initApp() {
            renderTasks();
            updateStats();
            generateCalendar();
            updateUpcomingTasks();
        }

        // Show specific section
        function showSection(section) {
            dashboard.classList.remove('hidden');
            taskManagement.classList.remove('hidden');
            taskList.classList.remove('hidden');
            calendarView.classList.add('hidden');
            statisticsView.classList.add('hidden');

            if (section === 'calendar') {
                dashboard.classList.add('hidden');
                taskManagement.classList.add('hidden');
                taskList.classList.add('hidden');
                calendarView.classList.remove('hidden');
                generateCalendar();
            } else if (section === 'stats') {
                dashboard.classList.add('hidden');
                taskManagement.classList.add('hidden');
                taskList.classList.add('hidden');
                calendarView.classList.add('hidden');
                statisticsView.classList.remove('hidden');
                generateCharts();
            }
        }

        // Add new task
        taskForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const task = {
                id: Date.now(),
                name: document.getElementById('taskName').value,
                subject: document.getElementById('taskSubject').value || 'General',
                dueDate: document.getElementById('taskDueDate').value,
                priority: document.getElementById('taskPriority').value,
                description: document.getElementById('taskDescription').value,
                completed: false,
                createdAt: new Date().toISOString()
            };

            tasks.push(task);
            saveTasks();
            renderTasks();
            updateStats();
            updateUpcomingTasks();
            taskForm.reset();
        });

        // Save tasks to local storage
        function saveTasks() {
            localStorage.setItem('studyTasks', JSON.stringify(tasks));
        }

        // Render tasks based on filter
        function renderTasks() {
            tasksContainer.innerHTML = '';
            
            const filteredTasks = tasks.filter(task => {
                if (currentFilter === 'all') return true;
                if (currentFilter === 'active') return !task.completed;
                if (currentFilter === 'completed') return task.completed;
                return true;
            });

            if (filteredTasks.length === 0) {
                tasksContainer.innerHTML = '<p class="text-gray-500 text-center py-8">No tasks found. Add your first task to get started!</p>';
                return;
            }

            filteredTasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = `p-4 border rounded-lg ${task.completed ? 'bg-green-50 border-green-200' : 'bg-white border-gray-200'} ${task.priority === 'high' ? 'border-l-4 border-l-red-500' : task.priority === 'medium' ? 'border-l-4 border-l-yellow-500' : 'border-l-4 border-l-blue-500'}`;
                
                taskElement.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input type="checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTask(${task.id})" class="mr-3 h-5 w-5 text-primary">
                            <div>
                                <h3 class="font-semibold ${task.completed ? 'line-through text-gray-500' : 'text-gray-800'}">${task.name}</h3>
                                <p class="text-sm text-gray-600">${task.subject} ${task.dueDate ? '• Due: ' + formatDate(task.dueDate) : ''}</p>
                                ${task.description ? '<p class="text-sm text-gray-500 mt-1">' + task.description + '</p>' : ''}
                            </div>
                        </div>
                        <button onclick="deleteTask(${task.id})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                tasksContainer.appendChild(taskElement);
            });
        }

        // Toggle task completion
        function toggleTask(id) {
            tasks = tasks.map(task => 
                task.id === id ? { ...task, completed: !task.completed } : task
            );
            saveTasks();
            renderTasks();
            updateStats();
            updateUpcomingTasks();
        }

        // Delete task
        function deleteTask(id) {
            tasks = tasks.filter(task => task.id !== id);
            saveTasks();
            renderTasks();
            updateStats();
            updateUpcomingTasks();
        }

        // Filter tasks
        function filterTasks(filter) {
            currentFilter = filter;
            renderTasks();
            
            // Update active filter button
            document.querySelectorAll('#taskList button').forEach(btn => {
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            document.getElementById(`filter${filter.charAt(0).toUpperCase() + filter.slice(1)}`).classList.add('bg-primary', 'text-white');
            document.getElementById(`filter${filter.charAt(0).toUpperCase() + filter.slice(1)}`).classList.remove('bg-gray-200', 'text-gray-700');
        }

        // Update statistics
        function updateStats() {
            const total = tasks.length;
            const completed = tasks.filter(task => task.completed).length;
            const pending = total - completed;
            
            totalTasks.textContent = total;
            completedTasks.textContent = completed;
            pendingTasks.textContent = pending;
            
            // Calculate today's progress
            const todayTasks = tasks.filter(task => {
                const taskDate = new Date(task.createdAt).toDateString();
                return taskDate === new Date().toDateString();
            });
            
            const todayCompleted = todayTasks.filter(task => task.completed).length;
            const todayTotal = todayTasks.length;
            const progress = todayTotal > 0 ? Math.round((todayCompleted / todayTotal) * 100) : 0;
            
            todayProgress.style.width = `${progress}%`;
            progressPercentage.textContent = `${progress}%`;
            tasksCompleted.textContent = `${todayCompleted}/${todayTotal} tasks completed`;
        }

        // Update upcoming tasks
        function updateUpcomingTasks() {
            const now = new Date();
            const nextWeek = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);
            
            const upcoming = tasks
                .filter(task => !task.completed && task.dueDate && new Date(task.dueDate) <= nextWeek)
                .sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate))
                .slice(0, 5);
            
            if (upcoming.length === 0) {
                upcomingTasks.innerHTML = '<p class="text-gray-500 text-sm">No upcoming tasks</p>';
                return;
            }
            
            upcomingTasks.innerHTML = '';
            upcoming.forEach(task => {
                const taskEl = document.createElement('div');
                taskEl.className = 'flex justify-between items-center py-2 border-b border-gray-100';
                taskEl.innerHTML = `
                    <span class="text-sm text-gray-700">${task.name}</span>
                    <span class="text-xs text-gray-500">${formatDate(task.dueDate)}</span>
                `;
                upcomingTasks.appendChild(taskEl);
            });
        }

        // Generate calendar
        function generateCalendar() {
            calendarGrid.innerHTML = '';
            const now = new Date();
            const firstDay = new Date(now.getFullYear(), now.getMonth(), 1);
            const lastDay = new Date(now.getFullYear(), now.getMonth() + 1, 0);
            
            // Add empty cells for days before first day of month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'h-16 border border-gray-200 rounded';
                calendarGrid.appendChild(emptyCell);
            }
            
            // Add days of month
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'h-16 border border-gray-200 rounded p-1';
                
                const dateStr = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayTasks = tasks.filter(task => task.dueDate && task.dueDate.startsWith(dateStr));
                
                dayCell.innerHTML = `
                    <div class="text-sm font-medium ${day === now.getDate() ? 'text-primary' : 'text-gray-700'}">${day}</div>
                    ${dayTasks.length > 0 ? `<div class="text-xs text-gray-500">${dayTasks.length} task(s)</div>` : ''}
                `;
                
                calendarGrid.appendChild(dayCell);
            }
        }

        // Generate charts (placeholder - would need Chart.js for full implementation)
        function generateCharts() {
            // This would be implemented with Chart.js in a real application
            document.getElementById('weeklyChart').innerHTML = '<p class="text-gray-500 text-center py-8">Weekly progress chart would be displayed here with Chart.js</p>';
            document.getElementById('subjectChart').innerHTML = '<p class="text-gray-500 text-center py-8">Subject distribution chart would be displayed here with Chart.js</p>';
        }

        // Format date for display
        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>